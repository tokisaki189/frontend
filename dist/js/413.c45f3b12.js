"use strict";(self["webpackChunkflyticket"]=self["webpackChunkflyticket"]||[]).push([[413],{1413:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var l=t(3396),r=t(7139),i=t(9242);const u=e=>((0,l.dD)("data-v-71956866"),e=e(),(0,l.Cn)(),e),n={class:"container"},s={class:"priceContainer"},o=u((()=>(0,l._)("label",{for:"normal-seat"}," Normal ",-1))),v=["max"],c=u((()=>(0,l._)("label",{for:"business-seat"}," Business",-1))),d=["max"],m={class:"totalPrice"};function p(e,a,t,u,p,_){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",n,[(0,l._)("p",null,"Plane: "+(0,r.zw)(u.plane),1),(0,l._)("p",null,"From: "+(0,r.zw)(u.departureCity),1),(0,l._)("p",null,"To: "+(0,r.zw)(u.arrivalCity),1),(0,l._)("p",null," Departure Time: "+(0,r.zw)(u.formatDate(u.departureDate))+" at "+(0,r.zw)(u.departureTime),1),(0,l._)("p",null,"Arrival Time: "+(0,r.zw)(u.formatDate(u.arrivalDate))+" at "+(0,r.zw)(u.arrivalTime),1),(0,l._)("div",s,[o,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>u.normalQuantity=e),min:"0",max:u.normalSeat,id:"normal-seat"},null,8,v),[[i.nr,u.normalQuantity]]),(0,l._)("p",null,"Normal Seat x "+(0,r.zw)(u.normalQuantity),1),c,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>u.businessQuantity=e),name:"",id:"business=seat",min:"0",max:u.businessSeat},null,8,d),[[i.nr,u.businessQuantity]]),(0,l._)("p",null,"Business Seat x "+(0,r.zw)(u.businessQuantity),1),(0,l._)("div",m,"Total Price: "+(0,r.zw)(u.totalPrice)+"$",1)]),(0,l._)("button",{onClick:a[2]||(a[2]=e=>u.order())},"Order a Ticket")]),(0,l._)("p",null,(0,r.zw)(u.message),1)],64)}var _=t(8332),y=t(2483),b=t(4870),H=t(65),f={setup(){const e=(0,y.yj)();let a=(0,H.oR)(),t=(0,b.iH)(),r=e.query.id,i=(0,b.iH)(""),u=(0,b.iH)(0),n=(0,b.iH)(0),s=(0,b.iH)(""),o=(0,b.iH)(""),v=(0,b.iH)(""),c=(0,b.iH)(""),d=(0,b.iH)(""),m=(0,b.iH)(""),p=(0,b.iH)(""),f=(0,b.iH)(""),w=(0,b.iH)(""),g=(0,b.iH)(""),D=(0,b.iH)(""),h=(0,b.iH)(""),z=(0,b.iH)(""),P=(0,b.iH)(),S=(0,b.iH)("");function C(){let e="Are you sure";1==confirm(e)?_.Z.post("/order/"+r,{userId:P.value,normalSeatOrder:u.value,businessSeatOrder:n.value,totalPaid:T.value}).then((e=>{S.value=e.data.message,console.log(e.data)})).catch((e=>{console.log(e)})):console.log("cancelled")}(0,l.bv)((()=>{P.value=a.state.userID,_.Z.get("/orderflight/"+r,{}).then((e=>{i.value=e.data,v.value=i.value[0].planes,c.value=i.value[0].departure_city,m.value=i.value[0].departure_date,w.value=i.value[0].arrival_date,p.value=i.value[0].departure_time,f.value=i.value[0].arrival_time,d.value=i.value[0].arrival_city,s.value=i.value[0].normal_seat_price,o.value=i.value[0].business_seat_price,g.value=i.value[0].normal_seat,h.value=i.value[0].business_seat})).catch((e=>{console.error(e)}))}));let T=(0,l.Fl)((()=>{let e=u.value*s.value+n.value*o.value;return isNaN(e)?0:e}));function k(e){let a=new Date(e);const t=a.getFullYear(),l=a.getMonth()+1,r=a.getDate();return`${r}-${l}-${t}`}return{flightId:r,flightDetail:i,totalPrice:T,normalQuantity:u,businessQuantity:n,normalPrice:s,businessPrice:o,plane:v,departureCity:c,arrivalCity:d,departureDate:m,departureTime:p,arrivalTime:f,arrivalDate:w,normalSeat:g,normalSeatPrice:D,businessSeat:h,businessSeatPrice:z,order:C,formatDate:k,message:S,isLogin:t}}},w=t(89);const g=(0,w.Z)(f,[["render",p],["__scopeId","data-v-71956866"]]);var D=g}}]);
//# sourceMappingURL=413.c45f3b12.js.map