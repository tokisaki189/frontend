{"version":3,"file":"js/117.bea51254.js","mappings":"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","sources":["webpack://flyticket/./src/views/EditView.vue","webpack://flyticket/./src/views/EditView.vue?eb6a"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <p>{{ plane }}</p>\n    <p>{{ formatDate(departureDate) }}</p>\n    <p>{{ departureCity }}</p>\n    <p>{{ departureTime }}</p>\n    <p>{{ formatDate(arrivalDate) }}</p>\n    <p>{{ arrivalCity }}</p>\n    <p>{{ arrivalTime }}</p>\n    <div class=\"edit-container\">\n      <div class=\"oldOrder\">\n        <p>Normal Seat Ordered: {{ normalSeatOrder }}</p>\n        <p>Business Seat Ordered: {{ businessSeatOrder }}</p>\n        <div class=\"totalPrice\">Total Price: {{ totalPrice }}$</div>\n      </div>\n      <div class=\"newOrder\">\n        <form action=\"\" class=\"form-edit\">\n          <div>\n            <label for=\"normal\">Change Normal Seat Order</label>\n            <input\n              type=\"number\"\n              name=\"\"\n              id=\"normal\"\n              v-model=\"newnormalSeatOrder\"\n              min=\"0\"\n              :max=\"normalSeat\"\n            />\n          </div>\n          <div>\n            <label for=\"business\">Change Business Seat Order</label>\n            <input\n              type=\"number\"\n              name=\"\"\n              id=\"business\"\n              v-model=\"newbusinessSeatOrder\"\n              min=\"0\"\n              :max=\"businessSeat\"\n            />\n          </div>\n          <p>New Price:{{ newTotalPrice }}</p>\n          <button @click=\"updateOrder()\">Update Order</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport api from \"../api\";\nexport default {\n  setup() {\n    let route = useRoute();\n    let id = route.query.id;\n    let plane = ref();\n    let businessSeatOrder = ref(0);\n    let normalSeatOrder = ref(0);\n    let newbusinessSeatOrder = ref(0);\n    let newnormalSeatOrder = ref(0);\n    let totalPrice = ref(0);\n    let departureTime = ref();\n    let arrivalTime = ref();\n    let normalSeat = ref();\n    let businessSeat = ref();\n    let normalPrice = ref();\n    let businessPrice = ref();\n    let departureDate = ref();\n    let departureCity = ref();\n    let arrivalDate = ref();\n    let arrivalCity = ref();\n    onMounted(() => {\n      console.log(id);\n      api\n        .get(\"/orderEdit/\" + id)\n        .then((response) => {\n          console.log(response.data);\n          plane.value = response.data[0].planes;\n          businessSeatOrder.value = response.data[0].business_seat_order;\n          normalSeatOrder.value = response.data[0].normal_seat_order;\n          normalSeat.value = response.data[0].normal_seat;\n          businessSeat.value = response.data[0].business_seat;\n          departureTime.value = response.data[0].departure_time;\n          arrivalTime.value = response.data[0].arrival_time;\n          totalPrice.value = response.data[0].total_price;\n          departureDate.value = response.data[0].departure_date;\n          departureCity.value = response.data[0].departure_city_name;\n          arrivalDate.value = response.data[0].arrival_date;\n          arrivalCity.value = response.data[0].arrival_city_name;\n          normalPrice.value = response.data[0].normal_seat_price;\n          businessPrice.value = response.data[0].business_seat_price;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n      console.log(normalPrice.value);\n    });\n    let newTotalPrice = computed(() => {\n      let result =\n        newnormalSeatOrder.value * normalPrice.value +\n        newbusinessSeatOrder.value * businessPrice.value;\n      return isNaN(result) ? 0 : result;\n    });\n    function formatDate(date) {\n      let dateObj = new Date(date);\n      const year = dateObj.getFullYear();\n      const month = dateObj.getMonth() + 1;\n      const day = dateObj.getDate();\n      return `${day}-${month}-${year}`;\n    }\n    function updateOrder() {\n      console.log(newbusinessSeatOrder.value + \" \" + newnormalSeatOrder.value);\n      console.log(newTotalPrice.value);\n      api.put(\"/editOrder/\" + id, {\n        businessSeat: newbusinessSeatOrder.value,\n        normalSeat: newnormalSeatOrder.value,\n        totalPrice: newTotalPrice.value,\n      });\n    }\n    return {\n      formatDate,\n      plane,\n      businessSeatOrder,\n      normalSeatOrder,\n      newbusinessSeatOrder,\n      newnormalSeatOrder,\n      totalPrice,\n      updateOrder,\n      newTotalPrice,\n      departureCity,\n      departureDate,\n      arrivalDate,\n      arrivalCity,\n      normalSeat,\n      businessSeat,\n      normalPrice,\n      businessPrice,\n      departureTime,\n      arrivalTime,\n    };\n  },\n};\n</script>\n<style scoped>\n.container {\n  width: 100%;\n}\n.edit-container {\n  display: flex;\n  flex-direction: row;\n  margin: auto;\n  padding: auto;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./EditView.vue?vue&type=template&id=0f088764&scoped=true\"\nimport script from \"./EditView.vue?vue&type=script&lang=js\"\nexport * from \"./EditView.vue?vue&type=script&lang=js\"\n\nimport \"./EditView.vue?vue&type=style&index=0&id=0f088764&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/prism/Documents/FlightApp/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f088764\"]])\n\nexport default __exports__"],"names":["class","action","_createElementVNode","for","_createElementBlock","_hoisted_1","_toDisplayString","$setup","plane","formatDate","departureDate","departureCity","departureTime","arrivalDate","arrivalCity","arrivalTime","_hoisted_2","_hoisted_3","normalSeatOrder","businessSeatOrder","_hoisted_4","totalPrice","_hoisted_5","_hoisted_6","_hoisted_7","type","name","id","newnormalSeatOrder","$event","min","max","normalSeat","_hoisted_9","newbusinessSeatOrder","businessSeat","newTotalPrice","onClick","_cache","updateOrder","setup","route","useRoute","query","ref","normalPrice","businessPrice","onMounted","console","log","api","then","response","data","value","planes","business_seat_order","normal_seat_order","normal_seat","business_seat","departure_time","arrival_time","total_price","departure_date","departure_city_name","arrival_date","arrival_city_name","normal_seat_price","business_seat_price","catch","error","computed","result","isNaN","date","dateObj","Date","year","getFullYear","month","getMonth","day","getDate","__exports__","render"],"sourceRoot":""}