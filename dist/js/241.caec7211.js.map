{"version":3,"file":"js/241.caec7211.js","mappings":"+PACOA,MAAM,a,UAEPC,EAAAA,EAAAA,GAAY,SAAT,SAAK,K,GAmBLD,MAAM,a,0EArBbE,EAAAA,EAAAA,IA2BM,MA3BNC,EA2BM,EA1BJF,EAAAA,EAAAA,GAkBO,QAlBDD,MAAM,aAAcI,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAP,QAAe,e,CACtCC,GAAY,SACZN,EAAAA,EAAAA,GAME,SALAO,KAAK,OACLC,KAAK,GACLC,GAAG,W,qCACMC,EAAAC,SAAQC,GACjBC,YAAY,iB,iBADHH,EAAAC,aAAQ,SAGnBX,EAAAA,EAAAA,GAOE,SANAO,KAAK,WACLC,KAAK,GACLC,GAAG,W,qCACMC,EAAAI,SAAQF,GACjBC,YAAY,gBACZE,aAAa,Q,iBAFJL,EAAAI,aAIXd,EAAAA,EAAAA,GAAkE,UAA1DD,MAAM,eAAgBiB,QAAKZ,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAY,IAAUP,EAAAQ,OAAAR,EAAAQ,SAAAD,IAAK,eAAE,UAAK,KAE3DjB,EAAAA,EAAAA,GAA6B,YAAAmB,EAAAA,EAAAA,IAArBT,EAAAU,cAAY,IACpBpB,EAAAA,EAAAA,GAKM,MALNqB,EAKM,EAJJC,EAAAA,EAAAA,IAEcC,EAAA,CAFDC,GAAG,aAAW,C,kBACxB,IACH,UADG,6C,OAEHF,EAAAA,EAAAA,IAAyDC,EAAA,CAA5CC,GAAG,WAAS,C,kBAAC,IAAiB,UAAjB,wB,+EAYhC,GACEC,QACE,IAAIC,GAAQC,EAAAA,EAAAA,MACRC,GAAUC,EAAAA,EAAAA,IAAIH,EAAMI,MAAMF,SAC1BjB,GAAWkB,EAAAA,EAAAA,IAAI,IACff,GAAWe,EAAAA,EAAAA,IAAI,IACfT,GAAeS,EAAAA,EAAAA,IAAI,IACnBE,GAAQF,EAAAA,EAAAA,IAAI,IAChB,SAASG,IACPC,QAAQC,IAAIC,IAAAA,IAAe,SAC7B,CACA,SAASjB,IACPkB,EAAAA,EAAAA,KACQ,aAAc,CAClBzB,SAAUA,EAAS0B,MACnBvB,SAAUA,EAASuB,QAEpBC,MAAMC,IACLC,KAAKpB,aAAemB,EAASE,KAAKrB,aAClCoB,KAAKT,MAAQQ,EAASE,KAAKV,MAC3BS,KAAKZ,QAAUW,EAASE,KAAKb,QAkB7BO,IAAAA,IAAe,QAASK,KAAKT,OACzBQ,EAASE,KAAKb,SAChBc,EAAAA,EAAAA,KAAY,KACZC,YAAW,KACTD,EAAAA,EAAAA,GAAU,EAAE,GACX,MAEHT,QAAQC,IAAI,WAEdD,QAAQC,IAAIN,EAAQS,MAAM,IAG3BO,OAAOC,IACNZ,QAAQC,IAAIW,EAAM,GAExB,CACA,MAAO,CACLlC,WACAG,WACAI,QACAE,eACAW,QACAH,UACAI,cAEJ,G,QC9FF,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://flyticket/./src/views/LoginView.vue","webpack://flyticket/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <form class=\"login-form\" @submit.prevent>\n      <p>Login</p>\n      <input\n        type=\"text\"\n        name=\"\"\n        id=\"username\"\n        v-model=\"username\"\n        placeholder=\"Your username\"\n      />\n      <input\n        type=\"password\"\n        name=\"\"\n        id=\"password\"\n        v-model=\"password\"\n        placeholder=\"Your password\"\n        autoComplete=\"true\"\n      />\n      <button class=\"login-button\" @click.prevent=\"login\">Login</button>\n    </form>\n    <div>{{ notification }}</div>\n    <div class=\"link-wrap\">\n      <router-link to=\"/Register\"\n        >Don't have an account ? Register here\n      </router-link>\n      <router-link to=\"/forget\"> Forgot password </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport api from \"../api\";\nimport VueCookies from \"vue-cookie\";\nimport { useStore } from \"vuex\";\nimport router from \"../router\";\n\nexport default {\n  setup() {\n    let store = useStore();\n    let isLogin = ref(store.state.isLogin);\n    let username = ref(\"\");\n    let password = ref(\"\");\n    let notification = ref(\"\");\n    let token = ref(\"\");\n    function checkcookie() {\n      console.log(VueCookies.get(\"token\"));\n    }\n    function login() {\n      api\n        .post(\"/api/login\", {\n          username: username.value,\n          password: password.value,\n        })\n        .then((response) => {\n          this.notification = response.data.notification;\n          this.token = response.data.token;\n          this.isLogin = response.data.isLogin;\n          // const expirationTime = 10; // in milliseconds\n          // const now = new Date();\n\n          // // Check if the cookie already exists and get the timestamp\n          // const existingTimestamp = VueCookies.get(\"my-cookie-timestamp\");\n          // const currentTimestamp = now.getTime();\n\n          // if (existingTimestamp != null) {\n          //   // Calculate the elapsed time since the cookie was last set\n          //   const elapsedTime = currentTimestamp - existingTimestamp;\n\n          //   if (elapsedTime >= expirationTime) {\n          //     // The cookie has expired, remove it\n          //     VueCookies.remove(\"token\");\n          //     VueCookies.remove(\"my-cookie-timestamp\");\n          //   }\n          // }\n          VueCookies.set(\"token\", this.token);\n          if (response.data.isLogin) {\n            router.push(\"/\");\n            setTimeout(() => {\n              router.go(0);\n            }, 1000);\n          } else {\n            console.log(\"nothing\");\n          }\n          console.log(isLogin.value);\n        })\n\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n    return {\n      username,\n      password,\n      login,\n      notification,\n      token,\n      isLogin,\n      checkcookie,\n    };\n  },\n};\n</script>\n<style scoped>\nbody {\n}\n.container {\n  width: 30rem;\n  background-color: white;\n  border: 1px black solid;\n  margin: auto;\n  padding: auto;\n  margin-top: 5rem;\n  border-radius: 1rem;\n  padding-bottom: 3rem;\n}\n.login-form {\n  margin: auto;\n  padding: auto;\n  border-radius: 2rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 2rem;\n  background-color: rgb(255, 255, 255);\n}\ntextarea:focus,\ninput:focus {\n  outline: none;\n}\n.login-form input {\n  height: 2rem;\n  border-top: none;\n  border-right: none;\n  border-left: none;\n}\nbutton {\n  appearance: button;\n  background-color: #1899d6;\n  border: solid transparent;\n  border-radius: 16px;\n  border-width: 0 0 4px;\n  box-sizing: border-box;\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: din-round, sans-serif;\n  font-size: 15px;\n  font-weight: 700;\n  letter-spacing: 0.8px;\n  line-height: 20px;\n  margin: 0;\n  outline: none;\n  overflow: visible;\n  padding: 13px 16px;\n  text-align: center;\n  text-transform: uppercase;\n  touch-action: manipulation;\n  transform: translateZ(0);\n  transition: filter 0.2s;\n  user-select: none;\n  -webkit-user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  width: 5rem;\n}\n\nbutton:after {\n  background-clip: padding-box;\n  background-color: #1cb0f6;\n  border: solid transparent;\n  border-radius: 16px;\n  border-width: 0 0 4px;\n  bottom: -4px;\n  content: \"\";\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: -1;\n}\n\nbutton:main,\n.button-19:focus {\n  user-select: auto;\n}\n\nbutton:hover:not(:disabled) {\n  filter: brightness(1.1);\n  -webkit-filter: brightness(1.1);\n}\n\nbutton:disabled {\n  cursor: auto;\n}\n.link-wrap {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=9dffbcb4&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=9dffbcb4&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/prism/Documents/FlightApp/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9dffbcb4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","_hoisted_2","type","name","id","$setup","username","$event","placeholder","password","autoComplete","onClick","args","login","_toDisplayString","notification","_hoisted_3","_createVNode","_component_router_link","to","setup","store","useStore","isLogin","ref","state","token","checkcookie","console","log","VueCookies","api","value","then","response","this","data","router","setTimeout","catch","error","__exports__","render"],"sourceRoot":""}