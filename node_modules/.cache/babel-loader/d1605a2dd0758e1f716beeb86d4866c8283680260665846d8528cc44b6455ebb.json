{"ast":null,"code":"import api from \"../../api.js\";\nimport { ref, onMounted, computed } from \"vue\";\nexport default {\n  name: \"FlightCrud\",\n  setup() {\n    let flights = ref(\"\");\n    let currentPage = ref(0);\n    const pageSize = 10;\n    onMounted(() => {\n      api.get(\"/flights\").then(response => {\n        flights.value = response.data;\n        console.log(flights.value);\n      }).catch(error => {\n        console.error(error);\n      });\n    });\n    function addflight() {\n      api.get(\"/addflight\", {}).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    function formatDate(date) {\n      let dateObj = new Date(date);\n      const year = dateObj.getFullYear();\n      const month = dateObj.getMonth() + 1;\n      const day = dateObj.getDate();\n      return `${year}-${month}-${day}`;\n    }\n    const displayedItems = computed(() => {\n      const start = currentPage.value * pageSize;\n      const end = start + pageSize;\n      return flights.value.slice(start, end);\n    });\n    function previousPage() {\n      if (currentPage.value > 0) {\n        currentPage.value--;\n      }\n    }\n    function nextPage() {\n      if (currentPage.value < Math.floor(flights.value.length / pageSize)) {\n        currentPage.value++;\n      }\n    }\n    return {\n      addflight,\n      flights,\n      formatDate,\n      previousPage,\n      nextPage,\n      displayedItems\n    };\n  }\n};","map":{"version":3,"names":["api","ref","onMounted","computed","name","setup","flights","currentPage","pageSize","get","then","response","value","data","console","log","catch","error","addflight","formatDate","date","dateObj","Date","year","getFullYear","month","getMonth","day","getDate","displayedItems","start","end","slice","previousPage","nextPage","Math","floor","length"],"sources":["/home/prism/Documents/flyticket/src/components/Admin/FlightCrud.vue"],"sourcesContent":["<template>\n  <div>crud</div>\n  <div class=\"container\">\n    <form class=\"form-container\">\n      <label for=\"plane\">Plane</label>\n      <input type=\"text\" name=\"\" id=\"plane\" v-model=\"plane\" />\n      <label for=\"deparute_city\">Departure City</label>\n      <input type=\"text\" name=\"\" id=\"departure_city\" v-model=\"departureCity\" />\n      <label for=\"arrival_city\">Arrival City</label>\n      <input type=\"text\" name=\"\" id=\"arrival_city\" v-model=\"arrivalCity\" />\n      <label for=\"departure_date\"> Departure Date </label>\n      <input type=\"date\" name=\"\" id=\"departure_date\" v-model=\"departureDate\" />\n      <label for=\"arrival_date\"> Arrival Date </label>\n      <input type=\"date\" name=\"\" id=\"arrival_date\" v-model=\"arrivalDate\" />\n      <label for=\"departure_time\">Departure Time</label>\n      <input type=\"text\" name=\"\" id=\"departure_time\" v-model=\"departureTime\">\n      <label for=\"arrival_time\">Arrival Time</label>\n      <input type=\"text\" name=\"arrival_time\" id=\"\">\n      <button class=\"add-flight\" @click=\"addflight\">Add Flight</button>\n    </form>\n  </div>\n  <div class=\"flight-list-container\">\n    <table class=\"flight-list\">\n      <tr>\n        <th>Plane Name</th>\n        <th>Departure City</th>\n        <th>Arrival City</th>\n        <th>Departure Date</th>\n        <th>Arrival Date</th>\n        <th>Departure Time</th>\n        <th>Arrival Time</th>\n        <th>Normal Seats</th>\n        <th>Normal Seat Price</th>\n        <th>Business Seats</th>\n        <th>Business Seat Price</th>\n      </tr>\n      <tr\n        class=\"individual-flight\"\n        v-for=\"flight in displayedItems\"\n        :key=\"flight\"\n      >\n        <th>{{ flight.planes }}</th>\n        <th>{{ flight.departure_city }}</th>\n        <th>{{ flight.arrival_city }}</th>\n        <th>{{ formatDate(flight.departure_date) }}</th>\n        <th>{{ formatDate(flight.arrival_date) }}</th>\n        <th>{{ flight.departure_time }}</th>\n        <th>{{ flight.arrival_time }}</th>\n        <th>{{ flight.normal_seat }}</th>\n        <th>{{ flight.business_seat }}</th>\n        <th>{{ flight.normal_seat_price }}</th>\n        <th>{{ flight.business_seat_price }}</th>\n      </tr>\n    </table>\n    <div class=\"button-container\">\n      <button @click=\"previousPage\">Previous</button>\n      <button @click=\"nextPage\">Next</button>\n    </div>\n  </div>\n</template>\n<script>\nimport api from \"../../api.js\";\nimport { ref, onMounted, computed } from \"vue\";\nexport default {\n  name: \"FlightCrud\",\n  setup() {\n    let flights = ref(\"\");\n    let currentPage = ref(0);\n    const pageSize = 10;\n    onMounted(() => {\n      api\n        .get(\"/flights\")\n        .then((response) => {\n          flights.value = response.data;\n          console.log(flights.value);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    });\n    function addflight() {\n      api\n        .get(\"/addflight\", {})\n        .then((response) => {\n          console.log(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n    function formatDate(date) {\n      let dateObj = new Date(date);\n      const year = dateObj.getFullYear();\n      const month = dateObj.getMonth() + 1;\n      const day = dateObj.getDate();\n      return `${year}-${month}-${day}`;\n    }\n    const displayedItems = computed(() => {\n      const start = currentPage.value * pageSize;\n      const end = start + pageSize;\n      return flights.value.slice(start, end);\n    });\n    function previousPage() {\n      if (currentPage.value > 0) {\n        currentPage.value--;\n      }\n    }\n\n    function nextPage() {\n      if (currentPage.value < Math.floor(flights.value.length / pageSize)) {\n        currentPage.value++;\n      }\n    }\n    return {\n      addflight,\n      flights,\n      formatDate,\n      previousPage,\n      nextPage,\n      displayedItems,\n    };\n  },\n};\n</script>\n<style scoped>\n.container {\n  margin: auto;\n  padding: auto;\n}\n.form-container {\n  width: 80%;\n  margin: auto;\n  padding: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.form-container input {\n  height: 2rem;\n}\n.form-container label {\n  align-self: start;\n}\n.add-flight {\n  width: 5rem;\n  height: 3rem;\n}\n.flight-list-container {\n}\nth,\ntd {\n  padding-bottom: 1rem;\n}\n</style>\n"],"mappings":"AA6DA,OAAOA,GAAE,MAAO,cAAc;AAC9B,SAASC,GAAG,EAAEC,SAAS,EAAEC,QAAO,QAAS,KAAK;AAC9C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAKA,CAAA,EAAG;IACN,IAAIC,OAAM,GAAIL,GAAG,CAAC,EAAE,CAAC;IACrB,IAAIM,WAAU,GAAIN,GAAG,CAAC,CAAC,CAAC;IACxB,MAAMO,QAAO,GAAI,EAAE;IACnBN,SAAS,CAAC,MAAM;MACdF,GAAE,CACCS,GAAG,CAAC,UAAU,EACdC,IAAI,CAAEC,QAAQ,IAAK;QAClBL,OAAO,CAACM,KAAI,GAAID,QAAQ,CAACE,IAAI;QAC7BC,OAAO,CAACC,GAAG,CAACT,OAAO,CAACM,KAAK,CAAC;MAC5B,CAAC,EACAI,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC,CAAC;IACF,SAASC,SAASA,CAAA,EAAG;MACnBlB,GAAE,CACCS,GAAG,CAAC,YAAY,EAAE,CAAC,CAAC,EACpBC,IAAI,CAAEC,QAAQ,IAAK;QAClBG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACE,IAAI,CAAC;MAC5B,CAAC,EACAG,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;IACA,SAASE,UAAUA,CAACC,IAAI,EAAE;MACxB,IAAIC,OAAM,GAAI,IAAIC,IAAI,CAACF,IAAI,CAAC;MAC5B,MAAMG,IAAG,GAAIF,OAAO,CAACG,WAAW,EAAE;MAClC,MAAMC,KAAI,GAAIJ,OAAO,CAACK,QAAQ,EAAC,GAAI,CAAC;MACpC,MAAMC,GAAE,GAAIN,OAAO,CAACO,OAAO,EAAE;MAC7B,OAAQ,GAAEL,IAAK,IAAGE,KAAM,IAAGE,GAAI,EAAC;IAClC;IACA,MAAME,cAAa,GAAI1B,QAAQ,CAAC,MAAM;MACpC,MAAM2B,KAAI,GAAIvB,WAAW,CAACK,KAAI,GAAIJ,QAAQ;MAC1C,MAAMuB,GAAE,GAAID,KAAI,GAAItB,QAAQ;MAC5B,OAAOF,OAAO,CAACM,KAAK,CAACoB,KAAK,CAACF,KAAK,EAAEC,GAAG,CAAC;IACxC,CAAC,CAAC;IACF,SAASE,YAAYA,CAAA,EAAG;MACtB,IAAI1B,WAAW,CAACK,KAAI,GAAI,CAAC,EAAE;QACzBL,WAAW,CAACK,KAAK,EAAE;MACrB;IACF;IAEA,SAASsB,QAAQA,CAAA,EAAG;MAClB,IAAI3B,WAAW,CAACK,KAAI,GAAIuB,IAAI,CAACC,KAAK,CAAC9B,OAAO,CAACM,KAAK,CAACyB,MAAK,GAAI7B,QAAQ,CAAC,EAAE;QACnED,WAAW,CAACK,KAAK,EAAE;MACrB;IACF;IACA,OAAO;MACLM,SAAS;MACTZ,OAAO;MACPa,UAAU;MACVc,YAAY;MACZC,QAAQ;MACRL;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}